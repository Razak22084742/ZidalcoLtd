<!DOCTYPE html>
<html lang="en">
    <link rel="stylesheet" href="css/Style.css">
    <link rel="stylesheet" href="assets/css/chatbot.css">
<script src="assets/js/script.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Zidalco Company Limited</title>
    <link rel="stylesheet" href="css/Style.css">
    <link rel="icon" type="image/png" href="Images/favicon.png">

    <!-- ✅ SEO Meta Tags -->
    <meta name="description" content="Contact Zidalco Company Limited for professional construction and engineering services in Ghana.">
    <meta name="keywords" content="Zidalco, Construction, Engineering, Ghana, Contact, East Legon">
    <meta name="author" content="Zidalco Company Limited">
    <meta property="og:title" content="Contact Zidalco Company Limited">
    <meta property="og:description" content="Get in touch with Zidalco Company Limited for your construction projects.">
    <meta property="og:image" content="Images/logo.png">
    <meta property="og:type" content="website">

    <!-- ✅ Google reCAPTCHA v3 -->
    <script src="https://www.google.com/recaptcha/api.js?render=YOUR_SITE_KEY"></script>
    
    <!-- ✅ EmailJS (client-side email sending) -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
    (function(){
        if (window.emailjs && typeof emailjs.init === 'function') {
            emailjs.init({ publicKey: "J3BTc9y4aqgvlHlkR" });
        }
    })();
    </script>
</head>
<body>

    <!-- ✅ Header -->
   <header>
    <div class="logo">
        <img src="Images/logo.jpg" alt="Zidalco Logo" class="logo-img">
        <span class="logo-text">Zidalco</span>
    </div>

    <!-- Regular Navigation (Always Visible on Header) -->
    <nav class="main-nav">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="portfolio.html">Portfolio</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="admin/index.html">Admin</a></li>
        </ul>
    </nav>

    <!-- Hamburger Icon -->
    <div class="hamburger" id="hamburger">
        <span></span><span></span><span></span>
    </div>

    <!-- Dropdown Menu -->
    <nav id="dropdown-menu">
        <ul>
            <li><a href="index.html">Home</a></li>

            <li class="has-submenu">
                <a href="about.html">About Us</a>
                <ul class="submenu">
                    <li><a href="about.html#mission">Mission</a></li>
                    <li><a href="about.html#vision">Vision</a></li>
                </ul>
            </li>

            <li class="has-submenu">
                <a href="services.html">Services</a>
                <ul class="submenu">
                    <li><a href="building.html">Building Construction</a></li>
                    <li><a href="civil.html">Civil Engineering</a></li>
                    <li><a href="design.html">Architectural Design</a></li>
                    <li><a href="renovations.html">Renovations</a></li>
                    <li><a href="project.html">Project Management</a></li>
                    <li><a href="consulting.html">Architectural Design</a></li>
                </ul>
            </li>

            <li><a href="portfolio.html">Portfolio</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="admin/index.html">Admin</a></li>
        </ul>
    </nav>
</header>

    <!-- Contact Hero -->
    <section class="page-hero contact-hero">
            <img src="Images/contact1.jpg" alt="Contact Background" class="hero-bg">
    <div class="hero-overlay">
        <h1>Contact Us</h1>
        <p>We’re ready to start your project</p>
    </div>
</section>


    <!-- Contact Section -->
    <section class="contact-section">
        <div class="container contact-grid">

            <!-- Contact Form -->
            <div class="contact-form">
                <h2>Get in Touch</h2>
                <form id="contactForm">
                    <input type="text" name="name" placeholder="Your Name" required>
                    <input type="email" name="email" placeholder="Your Email" required>
                    <input type="tel" name="phone" placeholder="Your Phone" required>
                    <input type="email" name="recipient_email" placeholder="Recipient Email" required>
                    <textarea name="message" rows="5" placeholder="Your Message" required></textarea>

                    <!-- ✅ Hidden input for reCAPTCHA token -->
                    <input type="hidden" name="g-recaptcha-response" id="g-recaptcha-response">

                    <button type="submit" class="btn">Send Message</button>
                </form>

                <!-- ✅ No-JavaScript Fallback -->
                <noscript>
                    <p style="text-align:center; color:red; margin-top:10px;">
                        ⚠️ Please enable JavaScript to use this contact form.
                    </p>
                </noscript>
            </div>

            <!-- Contact Info -->
            <div class="contact-info">
                <h2>Our Office</h2>
                <p><strong>Address:</strong> 22 Nii Sai Rd, Mempeasem - East Legon</p>
                <p><strong>Phone:</strong> +233 248607920</p>
                <p><strong>Email:</strong> zidalcoltd@gmail.com</p>
                <p><strong>Business Hours:</strong> Mon - Fri: 8:00 AM - 6:00 PM</p>

                <!-- ✅ Fixed WhatsApp Button -->
                <a href="https://wa.me/233248607920" 
                   class="btn whatsapp-btn" 
                   target="_blank" 
                   rel="noopener noreferrer">Chat on WhatsApp</a>
            </div>
        </div>
    </section>

    <!-- Google Map -->
    <section class="map">
        <iframe 
            src="https://www.google.com/maps?q=East+Legon,+Accra&output=embed" 
            allowfullscreen 
            title="Zidalco Company Location on Google Maps">
        </iframe>
    </section>

   <!-- ✅ Footer -->
   <footer>
  <p>&copy; 2025 Zidalco Company Limited | All Rights Reserved</p>
  <p>Email: zidalcoltd@gmail.com | Phone: +233 248607920</p>
</footer>

<!-- Bottom Navigation -->
<div class="app-bottom-nav">
  <a href="index.html" class="tab-link">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 3l9 8h-3v10h-4v-6H10v6H6V11H3z"/>
    </svg>
  </a>

  <a href="about.html" class="tab-link">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2a10 10 0 100 20 10 10 0 000-20zm.9 15h-1.8v-6h1.8v6zm0-8h-1.8V7h1.8v2z"/>
    </svg>
  </a>

  <a href="services.html" class="tab-link">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path fill="currentColor" d="M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm10 0h8v8h-8z"/>
    </svg>
  </a>

  <a href="portfolio.html" class="tab-link">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path fill="currentColor" d="M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10-2h4v2h-4V4zm10 14H4V8h16v10z"/>
    </svg>
  </a>

  <a href="contact.html" class="tab-link">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path fill="currentColor" d="M6.6 10.8a15.9 15.9 0 006.6 6.6l2.2-2.2c.3-.3.8-.4 1.2-.2 1.3.5 2.7.8 4.1.8.7 0 1.3.6 1.3 1.3V21c0 .7-.6 1.3-1.3 1.3C10.7 22.3 1.7 13.3 1.7 3.3 1.7 2.6 2.3 2 3 2h3.5c.7 0 1.3.6 1.3 1.3 0 1.4.3 2.8.8 4.1.2.4.1.9-.2 1.2l-2.2 2.2z"/>
    </svg>
  </a>
</div>


    <script src="assets/js/script.js"></script>
    <script src="assets/js/chatbot.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const hamburger = document.getElementById("hamburger");
        const dropdownMenu = document.getElementById("dropdown-menu");

        hamburger.addEventListener("click", () => {
            dropdownMenu.style.display = dropdownMenu.style.display === "block" ? "none" : "block";
        });

        document.addEventListener("click", (e) => {
            if (!hamburger.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.style.display = "none";
            }
        });
        
        // Contact form handling (save to backend + send via EmailJS)
        const contactForm = document.getElementById('contactForm');
        
        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(contactForm);
            const submitButton = contactForm.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            
            submitButton.disabled = true;
            submitButton.textContent = 'Sending...';
            
            try {
                // 1) Save to backend for admin visibility
                const savePromise = fetch('/api/emails/send', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        name: formData.get('name'),
                        email: formData.get('email'),
                        phone: formData.get('phone'),
                        recipient_email: formData.get('recipient_email'),
                        message: formData.get('message')
                    })
                }).then(r => r.json()).catch(() => ({ success: false }));

                // 2) Send actual email via EmailJS (client-side delivery)
                const emailJsPromise = (async () => {
                    if (!window.emailjs || typeof emailjs.send !== 'function') return { ok: false };
                    const params = {
                        name: formData.get('name'),
                        email: formData.get('email'),
                        reply_to: formData.get('email'),
                        phone: formData.get('phone'),
                        message: formData.get('message'),
                        recipient_email: formData.get('recipient_email'),
                        to_email: formData.get('recipient_email'),
                        subject: `New Message from ${formData.get('name')}`
                    };
                    await emailjs.send('service_vxprigz', 'template_umpowaa', params);
                    return { ok: true };
                })();

                const [saveResult, emailResult] = await Promise.allSettled([savePromise, emailJsPromise]);

                const savedOk = saveResult.status === 'fulfilled' && saveResult.value && saveResult.value.success;
                const mailedOk = emailResult.status === 'fulfilled' && emailResult.value && (emailResult.value.ok === true);

                if (savedOk && mailedOk) {
                    showMessage('Message sent and recorded!', 'success');
                    contactForm.reset();
                } else if (mailedOk) {
                    showMessage('Message sent! (recording failed, admin may not see it)', 'success');
                    contactForm.reset();
                } else if (savedOk) {
                    showMessage('Saved for admin, but email delivery failed. We will follow up.', 'error');
                } else {
                    showMessage('Failed to send message. Please try again.', 'error');
                }
            } catch (error) {
                console.error('Error sending message:', error);
                showMessage('Failed to send email. Please try again.', 'error');
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = originalText;
            }
        });
        
        // Show message function
        function showMessage(message, type = 'info') {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message message-${type}`;
            messageDiv.textContent = message;
            
            // Remove existing messages
            document.querySelectorAll('.message').forEach(msg => msg.remove());
            
            // Fallback to alert if no CSS for messages
            if (!document.querySelector('.message')) {
                alert(message);
                return;
            }
            
            // Add to page
            document.body.appendChild(messageDiv);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }
    });
    </script>
</body>
</html>
